ğŸ“˜ Clear Windows Defender History module Help [EN]

Overview
This module creates a scheduled task that clears Windows Defender Protection History, including:
â€¢ 	Threat detection history
â€¢ 	Controlled Folder Access (CFA) block history
â€¢ 	The  database used by Defender to store event logs
The module requires administrator privileges. If it is not run as administrator, it automatically restarts itself with elevated permissions.
After creating and running the scheduled task, the module can optionally delete the task and prompt the user to restart the system.

---

ğŸ› ï¸ module Features
1. ClearAV
Removes the folder:

This folder contains the Protection History entries for detected threats.

2. ClearCFA
Deletes:

These files store CFA block events and other Defender telemetry.

3. RemoveTask
Controls whether the scheduled task deletes itself after running.
â€¢ 	 â†’ Task deletes itself after clearing history
â€¢ 	 â†’ Task remains and clears history at every system startup

âš ï¸ Warning:
Do not set  unless you truly never want to see Defender Protection History again.

---

ğŸ”§ How the module Works
1. 	Checks for administrator privileges
If not elevated, it relaunches itself with .
2. 	Builds a scheduled task
â€¢ 	Name: 
â€¢ 	Runs at system startup
â€¢ 	Runs under the SYSTEM account
â€¢ 	Executes a command that clears Defender history
3. 	Registers the task using PowerShellâ€™s scheduled task cmdlets.
4. 	Prompts the user for a restart
Clearing Defender history requires a reboot to take effect.

---

ğŸ“„ Configuration Parameters

â–¶ï¸ Usage Instructions
1. 	Run the module (it will elevate itself if needed).
2. 	The module creates and runs the scheduled task.
3. 	You will be asked whether you want to restart now.
4. 	After reboot, Defender Protection History will be cleared.

---

âš ï¸ Important Notes
â€¢ 	Clearing Defender history removes forensic information about past threats.
â€¢ 	Leaving  will permanently disable Defenderâ€™s ability to store history.
â€¢ 	The module modifies the Windows Task Scheduler â€” ensure you have proper permissions.